const fs = require('fs');
const path = require('path');

const content = [
    "import type { NativeStackScreenProps } from '@react-navigation/native-stack';",
    "import { LinearGradient } from 'expo-linear-gradient';",
    "import React from 'react';",
    "import {",
    "    Linking,",
    "    ScrollView,",
    "    StyleSheet,",
    "    Text,",
    "    TouchableOpacity,",
    "    View,",
    "} from 'react-native';",
    "import type { RootStackParamList } from '../types';",
    "",
    "type Props = NativeStackScreenProps<RootStackParamList, 'BabyRegistryPortal'>;",
    "",
    "interface Registry {",
    "    id: string;",
    "    name: string;",
    "    emoji: string;",
    "    tagline: string;",
    "    color: string;",
    "    url: string;",
    "    features: string[];",
    "}",
    "",
    "const REGISTRIES: Registry[] = [",
    "    {",
    "        id: 'amazon',",
    "        name: 'Amazon Baby Registry',",
    "        emoji: '\uD83D\uDCE6',",
    "        tagline: 'The everything store for your little one',",
    "        color: '#ff9900',",
    "        url: 'https://www.amazon.com/baby-reg',",
    "        features: ['15% completion discount', 'Free 90-day returns', 'Universal registry option'],",
    "    },",
    "    {",
    "        id: 'babylist',",
    "        name: 'Babylist',",
    "        emoji: '\uD83C\uDF7C',",
    "        tagline: 'The baby registry that lets you add anything',",
    "        color: '#6fcf97',",
    "        url: 'https://www.babylist.com',",
    "        features: ['Add items from any store', '15% completion discount', 'Free Hello Baby Box'],",
    "    },",
    "    {",
    "        id: 'target',",
    "        name: 'Target Baby Registry',",
    "        emoji: '\uD83C\uDFAF',",
    "        tagline: 'Expect more. Pay less.',",
    "        color: '#cc0000',",
    "        url: 'https://www.target.com/gift-registry/baby',",
    "        features: ['15% completion coupon', 'Free welcome kit', 'Easy in-store returns'],",
    "    },",
    "    {",
    "        id: 'walmart',",
    "        name: 'Walmart Baby Registry',",
    "        emoji: '\uD83D\uDED2',",
    "        tagline: 'Save money. Live better.',",
    "        color: '#0071dc',",
    "        url: 'https://www.walmart.com/registry/baby',",
    "        features: ['Price match guarantee', 'Free welcome box', 'In-store & online pickup'],",
    "    },",
    "    {",
    "        id: 'buybuybaby',",
    "        name: 'buybuy BABY',",
    "        emoji: '\uD83D\uDC76',",
    "        tagline: 'Everything baby, all in one place',",
    "        color: '#e91e63',",
    "        url: 'https://www.buybuybaby.com/pages/registry',",
    "        features: ['Completion discount', 'Registry checklist', 'Expert advice'],",
    "    },",
    "    {",
    "        id: 'potterybarn',",
    "        name: 'Pottery Barn Kids',",
    "        emoji: '\uD83C\uDFE0',",
    "        tagline: 'Beautifully designed for growing families',",
    "        color: '#8B4513',",
    "        url: 'https://www.potterybarnkids.com/registry/',",
    "        features: ['10% completion discount', 'Free design services', 'Premium nursery items'],",
    "    },",
    "    {",
    "        id: 'crateandkids',",
    "        name: 'Crate & Kids',",
    "        emoji: '\uD83E\uDE91',",
    "        tagline: 'Modern style for little ones',",
    "        color: '#2c3e50',",
    "        url: 'https://www.crateandbarrel.com/gift-registry/baby',",
    "        features: ['15% completion discount', 'Modern designs', 'Quality furniture & decor'],",
    "    },",
    "    {",
    "        id: 'myregistry',",
    "        name: 'MyRegistry',",
    "        emoji: '\uD83D\uDD17',",
    "        tagline: 'One registry to sync them all',",
    "        color: '#9b59b6',",
    "        url: 'https://www.myregistry.com/baby-registry',",
    "        features: ['Sync all registries into one', 'Universal wish list', 'Cash fund option'],",
    "    },",
    "    {",
    "        id: 'zola',",
    "        name: 'Zola Baby',",
    "        emoji: '\u2728',",
    "        tagline: 'The registry reinvented for baby',",
    "        color: '#1a8fe3',",
    "        url: 'https://www.zola.com/baby-registry',",
    "        features: ['Add from any store', 'Group gifting', 'Cash funds & experiences'],",
    "    },",
    "    {",
    "        id: 'nordstrom',",
    "        name: 'Nordstrom Baby',",
    "        emoji: '\uD83D\uDECD\uFE0F',",
    "        tagline: 'Premium picks for your newest arrival',",
    "        color: '#1c1c1c',",
    "        url: 'https://www.nordstrom.com/browse/kids/baby-registry',",
    "        features: ['Personal stylist access', 'Premium brands', 'Easy exchanges'],",
    "    },",
    "];",
    "",
    "export default function BabyRegistryPortalScreen({ navigation }: Props) {",
    "    const openRegistry = (url: string) => {",
    "        Linking.openURL(url).catch(() => {});",
    "    };",
    "",
    "    return (",
    "        <LinearGradient colors={['#1a472a', '#2d6a3f', '#1a472a']} style={styles.container}>",
    "            <ScrollView",
    "                contentContainerStyle={styles.scrollContent}",
    "                showsVerticalScrollIndicator={false}",
    "            >",
    "                <View style={styles.header}>",
    "                    <Text style={styles.headerEmoji}>{'\uD83C\uDF81'}</Text>",
    "                    <Text style={styles.title}>Baby Registry</Text>",
    "                    <Text style={styles.subtitle}>",
    "                        Set up your baby registry with any of these popular services.",
    "                        Tap a registry to get started.",
    "                    </Text>",
    "                </View>",
    "",
    "                <View style={styles.registryList}>",
    "                    {REGISTRIES.map((registry) => (",
    "                        <TouchableOpacity",
    "                            key={registry.id}",
    "                            style={styles.registryCard}",
    "                            onPress={() => openRegistry(registry.url)}",
    "                            activeOpacity={0.85}",
    "                        >",
    "                            <View style={styles.cardHeader}>",
    "                                <View style={[styles.emojiCircle, { backgroundColor: registry.color + '20' }]}>",
    "                                    <Text style={styles.cardEmoji}>{registry.emoji}</Text>",
    "                                </View>",
    "                                <View style={styles.cardTitleArea}>",
    "                                    <Text style={styles.cardName}>{registry.name}</Text>",
    "                                    <Text style={styles.cardTagline}>{registry.tagline}</Text>",
    "                                </View>",
    "                            </View>",
    "                            <View style={styles.featuresRow}>",
    "                                {registry.features.map((feature, i) => (",
    "                                    <View key={i} style={[styles.featureBadge, { backgroundColor: registry.color + '15' }]}>",
    "                                        <Text style={[styles.featureText, { color: registry.color }]}>",
    "                                            {feature}",
    "                                        </Text>",
    "                                    </View>",
    "                                ))}",
    "                            </View>",
    "                            <View style={[styles.visitButton, { backgroundColor: registry.color }]}>",
    "                                <Text style={styles.visitButtonText}>Visit {registry.name.split(' ')[0]}</Text>",
    "                            </View>",
    "                        </TouchableOpacity>",
    "                    ))}",
    "                </View>",
    "",
    "                <View style={styles.tipsCard}>",
    "                    <Text style={styles.tipsTitle}>Registry Tips</Text>",
    "                    <Text style={styles.tipItem}>{'\uD83D\uDCCB'}  Start your registry early - aim for 12-20 weeks</Text>",
    "                    <Text style={styles.tipItem}>{'\uD83D\uDD17'}  Use MyRegistry to combine multiple registries into one link</Text>",
    "                    <Text style={styles.tipItem}>{'\uD83D\uDCB0'}  Do not forget to claim your completion discount</Text>",
    "                    <Text style={styles.tipItem}>{'\uD83D\uDCF1'}  Add your registry link to your Population +1 announcement</Text>",
    "                    <Text style={styles.tipItem}>{'\uD83C\uDF89'}  Share your registry at your baby shower</Text>",
    "                </View>",
    "",
    "                <Text style={styles.disclosure}>",
    "                    We may earn a small commission when you sign up through these links at no extra cost to you.",
    "                </Text>",
    "",
    "                <TouchableOpacity",
    "                    style={styles.backButton}",
    "                    onPress={() => navigation.goBack()}",
    "                >",
    "                    <Text style={styles.backButtonText}>{'\u2190'} Back</Text>",
    "                </TouchableOpacity>",
    "            </ScrollView>",
    "        </LinearGradient>",
    "    );",
    "}",
    "",
    "const styles = StyleSheet.create({",
    "    container: {",
    "        flex: 1,",
    "    },",
    "    scrollContent: {",
    "        paddingHorizontal: 16,",
    "        paddingTop: 50,",
    "        paddingBottom: 40,",
    "    },",
    "    header: {",
    "        alignItems: 'center',",
    "        marginBottom: 24,",
    "    },",
    "    headerEmoji: {",
    "        fontSize: 56,",
    "        marginBottom: 12,",
    "    },",
    "    title: {",
    "        fontSize: 28,",
    "        fontWeight: '800',",
    "        color: '#fff',",
    "        textAlign: 'center',",
    "        marginBottom: 8,",
    "    },",
    "    subtitle: {",
    "        fontSize: 14,",
    "        color: 'rgba(255,255,255,0.75)',",
    "        textAlign: 'center',",
    "        lineHeight: 20,",
    "        paddingHorizontal: 20,",
    "    },",
    "    registryList: {",
    "        gap: 14,",
    "        marginBottom: 24,",
    "    },",
    "    registryCard: {",
    "        backgroundColor: '#fff',",
    "        borderRadius: 16,",
    "        padding: 16,",
    "        shadowColor: '#000',",
    "        shadowOffset: { width: 0, height: 3 },",
    "        shadowOpacity: 0.12,",
    "        shadowRadius: 8,",
    "        elevation: 4,",
    "    },",
    "    cardHeader: {",
    "        flexDirection: 'row',",
    "        alignItems: 'center',",
    "        marginBottom: 12,",
    "    },",
    "    emojiCircle: {",
    "        width: 50,",
    "        height: 50,",
    "        borderRadius: 25,",
    "        justifyContent: 'center',",
    "        alignItems: 'center',",
    "        marginRight: 12,",
    "    },",
    "    cardEmoji: {",
    "        fontSize: 26,",
    "    },",
    "    cardTitleArea: {",
    "        flex: 1,",
    "    },",
    "    cardName: {",
    "        fontSize: 17,",
    "        fontWeight: '800',",
    "        color: '#1a1a1a',",
    "        marginBottom: 2,",
    "    },",
    "    cardTagline: {",
    "        fontSize: 12,",
    "        color: '#888',",
    "        fontStyle: 'italic',",
    "    },",
    "    featuresRow: {",
    "        flexDirection: 'row',",
    "        flexWrap: 'wrap',",
    "        gap: 6,",
    "        marginBottom: 12,",
    "    },",
    "    featureBadge: {",
    "        paddingHorizontal: 10,",
    "        paddingVertical: 5,",
    "        borderRadius: 20,",
    "    },",
    "    featureText: {",
    "        fontSize: 11,",
    "        fontWeight: '700',",
    "    },",
    "    visitButton: {",
    "        borderRadius: 10,",
    "        paddingVertical: 12,",
    "        alignItems: 'center',",
    "    },",
    "    visitButtonText: {",
    "        fontSize: 15,",
    "        fontWeight: '700',",
    "        color: '#fff',",
    "    },",
    "    tipsCard: {",
    "        backgroundColor: 'rgba(255,255,255,0.12)',",
    "        borderRadius: 16,",
    "        padding: 20,",
    "        marginBottom: 16,",
    "        borderWidth: 1,",
    "        borderColor: 'rgba(255,255,255,0.2)',",
    "    },",
    "    tipsTitle: {",
    "        fontSize: 18,",
    "        fontWeight: '800',",
    "        color: '#fff',",
    "        marginBottom: 14,",
    "        textAlign: 'center',",
    "    },",
    "    tipItem: {",
    "        fontSize: 13,",
    "        color: 'rgba(255,255,255,0.85)',",
    "        lineHeight: 22,",
    "        marginBottom: 8,",
    "    },",
    "    disclosure: {",
    "        fontSize: 11,",
    "        color: 'rgba(255,255,255,0.45)',",
    "        textAlign: 'center',",
    "        marginBottom: 16,",
    "        paddingHorizontal: 20,",
    "    },",
    "    backButton: {",
    "        alignItems: 'center',",
    "        paddingVertical: 16,",
    "    },",
    "    backButtonText: {",
    "        fontSize: 16,",
    "        color: 'rgba(255,255,255,0.7)',",
    "        fontWeight: '600',",
    "    },",
    "});",
    "",
].join('\n');

const outPath = path.join(__dirname, '..', 'src', 'screens', 'BabyRegistryPortalScreen.tsx');
fs.writeFileSync(outPath, content, 'utf8');
console.log('Written successfully to', outPath);
console.log('File size:', fs.statSync(outPath).size, 'bytes');
